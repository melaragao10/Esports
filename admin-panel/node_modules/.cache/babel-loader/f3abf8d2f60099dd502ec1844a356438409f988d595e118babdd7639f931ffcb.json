{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\melis\\\\Desktop\\\\esports\\\\admin-panel\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPanel() {\n  _s();\n  const [permissoes, setPermissoes] = useState([]);\n  const [perfilSelecionado, setPerfilSelecionado] = useState(1); // 1 = Admin, 2 = Jogador\n\n  useEffect(() => {\n    fetch(\"http://localhost:8080/admin/permissoes\").then(response => response.json()).then(data => setPermissoes(data));\n  }, []);\n  const togglePermissao = (codPerfil, codFuncao, possuiPermissao) => {\n    if (possuiPermissao) {\n      fetch(`http://localhost:8080/admin/remover?codPerfil=${codPerfil}&codFuncao=${codFuncao}`, {\n        method: \"DELETE\"\n      }).then(() => {\n        setPermissoes(permissoes.filter(p => !(p.perfil.codigo === codPerfil && p.funcao.codigo === codFuncao)));\n      });\n    } else {\n      fetch(`http://localhost:8080/admin/atribuir?codPerfil=${codPerfil}&codFuncao=${codFuncao}`, {\n        method: \"POST\"\n      }).then(() => {\n        setPermissoes([...permissoes, {\n          perfil: {\n            codigo: codPerfil\n          },\n          funcao: {\n            codigo: codFuncao\n          }\n        }]);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Painel Administrativo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Perfil: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setPerfilSelecionado(Number(e.target.value)),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"Administrador\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"Jogador\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Permiss\\xF5es de \", perfilSelecionado === 1 ? \"Administrador\" : \"Jogador\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Fun\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Permiss\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [{\n          codigo: 1,\n          descricao: \"Cadastrar Equipe\"\n        }, {\n          codigo: 2,\n          descricao: \"Pesquisar Equipe\"\n        }, {\n          codigo: 3,\n          descricao: \"Alterar Equipe\"\n        }, {\n          codigo: 4,\n          descricao: \"Excluir Equipe\"\n        }, {\n          codigo: 5,\n          descricao: \"Cadastrar Jogo\"\n        }, {\n          codigo: 6,\n          descricao: \"Pesquisar Jogo\"\n        }].map(funcao => {\n          const possuiPermissao = permissoes.some(p => p.perfil.codigo === perfilSelecionado && p.funcao.codigo === funcao.codigo);\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: funcao.descricao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: possuiPermissao,\n                onChange: () => togglePermissao(perfilSelecionado, funcao.codigo, possuiPermissao)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this)]\n          }, funcao.codigo, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminPanel, \"0zxhgiADgCJAH4KqOELWlG/2sBY=\");\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","AdminPanel","_s","permissoes","setPermissoes","perfilSelecionado","setPerfilSelecionado","fetch","then","response","json","data","togglePermissao","codPerfil","codFuncao","possuiPermissao","method","filter","p","perfil","codigo","funcao","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","Number","target","value","border","descricao","map","some","type","checked","_c","$RefreshReg$"],"sources":["C:/Users/melis/Desktop/esports/admin-panel/src/components/AdminPanel.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nfunction AdminPanel() {\r\n    const [permissoes, setPermissoes] = useState([]);\r\n    const [perfilSelecionado, setPerfilSelecionado] = useState(1); // 1 = Admin, 2 = Jogador\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:8080/admin/permissoes\")\r\n            .then(response => response.json())\r\n            .then(data => setPermissoes(data));\r\n    }, []);\r\n\r\n    const togglePermissao = (codPerfil, codFuncao, possuiPermissao) => {\r\n        if (possuiPermissao) {\r\n            fetch(`http://localhost:8080/admin/remover?codPerfil=${codPerfil}&codFuncao=${codFuncao}`, { method: \"DELETE\" })\r\n                .then(() => {\r\n                    setPermissoes(permissoes.filter(p => !(p.perfil.codigo === codPerfil && p.funcao.codigo === codFuncao)));\r\n                });\r\n        } else {\r\n            fetch(`http://localhost:8080/admin/atribuir?codPerfil=${codPerfil}&codFuncao=${codFuncao}`, { method: \"POST\" })\r\n                .then(() => {\r\n                    setPermissoes([...permissoes, { perfil: { codigo: codPerfil }, funcao: { codigo: codFuncao } }]);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Painel Administrativo</h2>\r\n            \r\n            <label>Perfil: </label>\r\n            <select onChange={(e) => setPerfilSelecionado(Number(e.target.value))}>\r\n                <option value=\"1\">Administrador</option>\r\n                <option value=\"2\">Jogador</option>\r\n            </select>\r\n\r\n            <h3>Permissões de {perfilSelecionado === 1 ? \"Administrador\" : \"Jogador\"}</h3>\r\n            \r\n            <table border=\"1\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Função</th>\r\n                        <th>Permissão</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {[\r\n                        { codigo: 1, descricao: \"Cadastrar Equipe\" },\r\n                        { codigo: 2, descricao: \"Pesquisar Equipe\" },\r\n                        { codigo: 3, descricao: \"Alterar Equipe\" },\r\n                        { codigo: 4, descricao: \"Excluir Equipe\" },\r\n                        { codigo: 5, descricao: \"Cadastrar Jogo\" },\r\n                        { codigo: 6, descricao: \"Pesquisar Jogo\" }\r\n                    ].map(funcao => {\r\n                        const possuiPermissao = permissoes.some(p => p.perfil.codigo === perfilSelecionado && p.funcao.codigo === funcao.codigo);\r\n                        \r\n                        return (\r\n                            <tr key={funcao.codigo}>\r\n                                <td>{funcao.descricao}</td>\r\n                                <td>\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={possuiPermissao}\r\n                                        onChange={() => togglePermissao(perfilSelecionado, funcao.codigo, possuiPermissao)}\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}